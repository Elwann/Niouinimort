function init$1(e){return onGameStart$1=e.onGameStart||function(){},onNextQuestion$1=e.onNextQuestion||function(){},onGameEnd$1=e.onGameEnd||function(){},exports}function start(e){return currentQuestion=-1,questions=e,onGameStart$1.call(exports),nextQuestion(),exports}function respond(e){var n=questions[currentQuestion],t=new Date,o=new Date(n.birth),r=n.death?new Date(n.death):null,s=null!=r,i=s?r.getFullYear()-o.getFullYear():t.getFullYear()-o.getFullYear();return{name:n.name,correct:s===e,dead:s,age:i}}function nextQuestion(){return++currentQuestion,currentQuestion>questions.length-1?void end():void onNextQuestion$1.call(exports,questions[currentQuestion])}function end(){onGameEnd$1.call(exports)}function onResponse(e){var n=e.target.getAttribute("data-dead"),t=questioner.respond("true"==n),o=t.correct?"Vrai":"Faux",r=t.dead?"Est mort":"Il";response.innerHTML=o+" : "+r+" a "+t.age+" ans",box.classList.add("flipped"),next.addEventListener("click",questioner.next,!1),isAlive.removeEventListener("click",onResponse),isDead.removeEventListener("click",onResponse)}function onGameStart(){}function onNextQuestion(e){forEach(names,function(n){n.innerHTML=e.name}),box.classList.remove("flipped"),next.removeEventListener("click",questioner.next,!1),isAlive.addEventListener("click",onResponse,!1),isDead.addEventListener("click",onResponse,!1)}function onGameEnd(){}function load(e){questioner=Questioner.init({onGameStart:onGameStart,onNextQuestion:onNextQuestion,onGameEnd:onGameEnd}),questioner.start(e.random(3))}function init(){DatabaseResolver.init("/assets/database.json").ready(load)}function forEach(e,n){for(var t=this,o=0,r=e.length;o<r;o++)n.call(t,e[o],o,r)}var questions=[],currentQuestion=-1,onGameStart$1,onNextQuestion$1,onGameEnd$1,Questioner={init:init$1,start:start,respond:respond,next:nextQuestion},questioner,box=document.querySelector(".box"),names=document.querySelectorAll(".star-name"),response=document.querySelector(".response"),isAlive=document.querySelector("button.is-alive"),isDead=document.querySelector("button.is-dead"),next=document.querySelector("button.next");init();
//# sourceMappingURL=bundle.min.js.map
